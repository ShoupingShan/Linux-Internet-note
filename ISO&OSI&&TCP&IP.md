# Linux network
## TCP/IP四层模型
  >**应用层**

  >**传输层**

  >**网络交际层**

  >**网络接口层**

## OSI 7层模型
  >**应用层,表示层,会话层 **
   *  等价于TCP/IP的应用层

  >**传输层  **
   *  等价于TCP/IP的传输层

  >**网络层   **
   *  等价于TCP/IP的网际互联层

  >**数据链路层,物理层  **
   *  等价于TCP/IP的网络接口层

### 网络接口层

它负责监视数据在主机和网络之间的交换.事实上,TCP/IP本身并未定义该层的协议,而是由参与互连的各网络使用自己的物理层和数据链路层协议,然后与TCP/IP的网络接入层进行连接.地址解析协议(ARP)工作在此层,即OSI参考模型的数据链路层.


### 网际互联层

  主要解决主机到主机的通信问题,它所包含的协议设计数据包在整个网络上的逻辑传输.该层有三个主要协议:网际协议(IP),互联网组管理协议(IGMP)和互联网控制报文协议(ICMP)

### 传输层

为应用层实体提供端到端的通信功能,保证了数据包的顺序传送及数据的完整性.该层定义了两个主要的协议:传输控制协议(TCP)和用户数据报协议(UDP)

#### TCP/IP三次握手(保证数据不会丢失,但是速度相对较慢)
|   主机A              |   主机B              |
|:--------------------:|:-------------------:|
| 发送SYN信息(序列号=x)  |                     |
|                      |接收SYN信息(序列号=x)  |
|                      |发送SYN,ACK信息(序列号=y,确认号=x+1) |
|接收SYN,ACK信息(序列号=y,确认号=x+1)|          |
|发送ACK信息(确认号=y+1)  |                    |
|                      |接收ACK信息(确认号=y+1)|

### 应用层
应用层对应于OSI模型的高层,为用户提供所需要的各种服务,例如:FTP,Telnet,DNS,SMTP等.

### 数据封装过程
|       |  以太帧头 |  目的地址 |源地址 | 包类型 |包数据| CRC |
|:-----:|:------:|:-----:|:----:|:----:|:-------:|:--|
|应用数据|        |       |      |      | 字节流(数据)   ||
|应用层  |        |       |      |FTP头  |数据      ||
|传输层|          |       | TCP头 |FTP头  |数据  ||
|网络层 |         |IP头    |TCP头  | FTP头  |数据||
|数据链路层 |     以太帧头    |IP头    |TCP头  | FTP头  |数据||
